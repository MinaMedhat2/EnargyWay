@page "/store-manager-dashboard"
@layout StoreManagerLayout
@attribute [Authorize(Roles = "StoreManager")]
@inject NavigationManager Navigation

<div class="dashboard-container">
    <div class="dashboard-header">
        <h3>
            <span class="oi oi-dashboard" aria-hidden="true"></span> Store Manager Dashboard
        </h3>
        <p>Welcome back! Here's your warehouse overview.</p>
    </div>

    <div class="dashboard-grid">
        <!-- Card 1: Manage Products -->
        <div class="dashboard-card" @onclick='() => NavigateTo("store-manager/products")'>
            <div class="card-icon-container">
                <div class="card-icon-bg product-bg"></div>
                <span class="oi oi-box card-icon"></span>
            </div>
            <div class="card-content">
                <h4>Manage Products</h4>
                <p>View, search, and manage product inventory & details.</p>
            </div>
        </div>

        <!-- Card 2: Manage Orders -->
        <div class="dashboard-card" @onclick='() => NavigateTo("store-manager/orders")'>
            <div class="card-icon-container">
                <div class="card-icon-bg order-bg"></div>
                <span class="oi oi-list-rich card-icon"></span>
            </div>
            <div class="card-content">
                <h4>Manage Orders</h4>
                <p>View incoming orders and update their status.</p>
            </div>
        </div>
    </div>
</div>

<style>
    .dashboard-container {
        padding: 2rem;
    }

    .dashboard-header {
        padding-bottom: 1rem;
        border-bottom: 1px solid #e5e7eb;
        margin-bottom: 2.5rem;
    }

        .dashboard-header h3 {
            font-weight: 700;
            font-size: 1.75rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: #111827; /* لون أسود داكن للوضوح */
        }

        .dashboard-header p {
            color: #6b7280; /* لون رمادي ألطف */
            font-size: 1rem;
            margin-top: 0.25rem;
        }

    .dashboard-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); /* بطاقات مرنة */
        gap: 2rem;
    }

    .dashboard-card {
        background-color: #ffffff;
        border-radius: 16px;
        padding: 2rem;
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 1.5rem;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 1px solid #f3f4f6;
    }

        .dashboard-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }

    .card-icon-container {
        position: relative;
        width: 64px;
        height: 64px;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .card-icon-bg {
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 18px;
        opacity: 0.1;
        transform: rotate(10deg);
        transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* حركة ارتدادية */
    }

    .dashboard-card:hover .card-icon-bg {
        transform: rotate(-5deg) scale(1.2);
    }

    /* تدرجات لونية احترافية */
    .product-bg {
        background: #4f46e5; /* Indigo */
    }

    .order-bg {
        background: #059669; /* Emerald */
    }

    .card-icon {
        font-size: 2rem;
        z-index: 1;
    }

    /* لون أيقونة مميز لكل بطاقة */
    .product-bg + .card-icon {
        color: #4f46e5;
    }

    .order-bg + .card-icon {
        color: #059669;
    }

    .card-content h4 {
        margin: 0 0 0.5rem 0;
        font-size: 1.25rem;
        font-weight: 600;
        color: #1f2937;
    }

    .card-content p {
        margin: 0;
        font-size: 0.95rem;
        color: #4b5563;
        line-height: 1.6;
    }
</style>

@code {
    private void NavigateTo(string url)
    {
        Navigation.NavigateTo(url);
    }
}
